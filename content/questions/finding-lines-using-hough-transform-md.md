---
filename: " finding-lines-using-Hough-transform.md"
title: Поиск линий с помощью преобразования Хафа.
Summary: Преобразование Хафа (Hough Transform) — это метод для поиска линий,
  кругов и других простых форм на изображении.
date: 2022-01-07T16:09:53.851Z
билеты: Билет 9
draft: true
weight: 8
author: Sergey Kryukov
cover:
  image: https://upload.wikimedia.org/wikipedia/commons/thumb/1/1c/Hough-example-result-en.png/800px-Hough-example-result-en.png
---
Преобразование Хафа — это метод обнаружения прямых и кривых линий на полутоновых или цветных изображениях. Метод позволяет указать параметры семейства кривых и обеспечивает поиск на изображении множества кривых заданного семейства. 

## Реализация алгоритма Хафа

Полная информация в статье https://habr.com/ru/post/102948/ .

Процедура accumulate_lines представляет собой версию преобразования Хафа.

{{< figure src="/images/uploads/find_line.jpg"
class="figure__image" >}}



Элемент PTLIST\[M,B] содержит список координат всех пикселов, которые внесли вклад в значение аккумуляторного массива A\[M,B]. 

Функция row_gradient и column_gradiet обрабатывают окрестности пикселов для оценки компонент градиента в направлении строк и столбцов.                                                                                                Функция gradient комбинирует комбинирует две эти компоненты для получения величины градиента.



<!--StartFragment-->

 GMAG > gradient_threshold определяем, достаточен ли [вес](https://ru.wikipedia.org/wiki/%D0%92%D0%B5%D1%81%D0%BE%D0%B2%D0%B0%D1%8F_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F "Весовая функция") границы в этой точке.

<!--EndFragment-->



Функция atan2 возвращает по заданным компонентам градиента угол в соответствующем квадранте. 

D - это длина перпендикуляра к прямой

PTLIST - массив списков