---
filename: morphology-operations.md
title: Морфологические операции
Summary: >
  Морфологические операции — это несколько простых преобразований, основанных на форме изображения.
  Обычно подобные преобразования выполняются над двоичными изображениями.
date: 2022-01-06T16:58:18+03:00
билеты: ["Билет 2", ]
draft: false
weight: 3
cover:
  image: https://frc-pdr.readthedocs.io/en/latest/_images/close.png
author: "Ilya Kochankov"
---

## Что такое морфологические операции?

**Морфологические преобразования** — это несколько простых операций, основанных на форме изображения. 
Обычно подобные преобразования выполняются над двоичными изображениями. Ему нужны два входа, один — это наше исходное 
изображение, второй называется структурным элементом или ядром, которое определяет характер операции.

{{< figure src="https://habrastorage.org/r/w1560/storage/habraeffect/34/d9/34d9a9806f49f263ae78360d5a0ffce4.jpg"
class="figure__image" >}}

---

## Виды морфологических операций
### Наращивание

Структурный элемент S применяется ко всем пикселам бинарного изображения. Каждый раз, когда начало координат 
структурного элемента совмещается с единичным бинарным пикселом, ко всему структурному элементу применяется перенос и 
последующее логическое сложение с соответствующими пикселами бинарного изображения. Результаты логического сложения 
записываются в выходное бинарное изображение, которое изначально инициализируется нулевыми значениями.

{{< figure src="https://habrastorage.org/r/w1560/storage/habraeffect/ec/1c/ec1ce5ba7960d870d89894eadcaf97f3.jpg"
class="figure__image" >}}

### Эрозия

При выполнении операции эрозии структурный элемент тоже проходит по всем пикселам изображения. Если в некоторой позиции 
каждый единичный пиксел структурного элемента совпадет с единичным пикселом бинарного изображения, то выполняется 
логическое сложение центрального пиксела структурного элемента с соответствующим пикселом выходного изображения.


{{< figure src="https://habrastorage.org/r/w1560/storage/habraeffect/39/3f/393f68871e0791a6ad513b35a85285f4.jpg"
class="figure__image" >}}

В результате применения операции эрозии все объекты, меньшие чем структурный элемент, стираются, объекты, соединённые 
тонкими линиями становятся разъединёнными и размеры всех объектов уменьшаются.

### Размыкание

Операция эрозии полезна для удаления малых объектов и различных шумов, но у этой операции есть 
недостаток – все остающиеся объекты уменьшаются в размере. Этого эффекта можно избежать, если 
после операции эрозии применить операцию наращивания с тем же структурным элементом.

Размыкание отсеивает все объекты, меньшие чем структурный элемент, но при этом помогает избежать сильного 
уменьшения размера объектов. Также размыкание идеально подходит для удаления линий, толщина которых меньше, 
чем диаметр структурного элемента. Также важно помнить, что после этой операции контуры объектов становятся более гладкими.

{{< figure src="https://habrastorage.org/r/w1560/storage/habraeffect/9f/26/9f264273d5726d3e08abd00f50954522.jpg"
class="figure__image" >}}

### Замыкание

Если к изображению применить сначала операцию наращивания, то мы сможем избавиться от малых дыр и щелей, но при этом 
произойдёт увеличение контура объекта. Избежать этого увеличения позволяет операция эрозия, выполненная сразу после 
наращивания с тем же структурным элементом.

{{< figure src="https://habrastorage.org/r/w1560/storage/habraeffect/bd/11/bd1116a7776e640d37590b9165180d8c.jpg"
class="figure__image" >}}

---

## Для чего применяются морфологические операции
### Выделение границ

Морфологические операции можно также использовать для выделения границ бинарного объекта. Это 
операция очень важна, потому что граница является полным, и в то же время весьма компактным описанием объекта.

Легко заметить, что граничные точки имеют как минимум один фоновый пиксел в своей окрестности. 
Таким образом, применив оператор эрозии со структурным элементом, содержащим все возможные соседние элементы, 
мы удалим все граничные точки… Тогда граница получится с помощью операции разности множеств между исходным 
изображением и изображением, полученным в результате эрозии.

{{< figure src="https://habrastorage.org/r/w1560/storage/habraeffect/bd/11/bd1116a7776e640d37590b9165180d8c.jpg"
class="figure__image" >}}


### Операция удаления шумов

Удаление шумов - это последовательное применение размыкания и замыкания.

{{< figure src="https://i.stack.imgur.com/SG4Qv.jpg"
class="figure__image" >}}
